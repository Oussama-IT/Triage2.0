<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="catalog_script_client">
    <catalog_script_client action="INSERT_OR_UPDATE">
        <active>true</active>
        <applies_catalog>true</applies_catalog>
        <applies_extended>false</applies_extended>
        <applies_req_item>false</applies_req_item>
        <applies_sc_task>false</applies_sc_task>
        <applies_target_record>false</applies_target_record>
        <applies_to>item</applies_to>
        <cat_item display_value="Demande SEP liée aux difficultés lecture/écriture">f5ee602f1ba365108d594047bc4bcb5e</cat_item>
        <cat_variable/>
        <condition/>
        <description/>
        <field/>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>OnSumbit</name>
        <order/>
        <script><![CDATA[function onSubmit() {
   //Type appropriate comment here, and begin script below

   var cecce = g_form.getValue ('est_ce_qu_une_p_riode_de_mise_l_essai_de_l_outil_technologique_a_t_compl_t_e');
   
   if (cecce == 'no') {
	g_form.addErrorMessage("Veuillez svp procéder à une période de mise à l’essai d’au moins 4 semaines avant de soumettre la demande.");
	return false ;
   } 

   //Get the field
	var field= g_form.getValue("est_ce_que_l_achat_d_outils_technologiques_a_t_recommand_par_un_e_professionnel_le");
	
	//Make attachment mandatory only based on conditions.
	if(field == 'yes'){
		
		var cat_id = g_form.getValue('sysparm_item_guid');
		var gr = new GlideRecord("sys_attachment");
		gr.addQuery("table_name", "x_ndecd_triage_2_0_demande_sep_li_e_aux_difficult_s_lecture_ecriture"); //Update your table
		gr.addQuery("table_sys_id", cat_id);
		gr.query();
		if (!gr.next()) {
			g_form.addErrorMessage("aucune pièce jointe n'a été ajoutée.");
			return false;
		}
	}
}]]></script>
        <sys_class_name>catalog_script_client</sys_class_name>
        <sys_created_by>ServiceNowDeveloper4@ecolecatholique.ca</sys_created_by>
        <sys_created_on>2023-08-19 00:18:56</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>c8df8c341b38f510d991c882604bcb3d</sys_id>
        <sys_mod_count>5</sys_mod_count>
        <sys_name>OnSumbit</sys_name>
        <sys_overrides/>
        <sys_package display_value="Triage 2.0" source="x_ndecd_triage_2_0">c48de0481bafed508d594047bc4bcb3d</sys_package>
        <sys_policy/>
        <sys_scope display_value="Triage 2.0">c48de0481bafed508d594047bc4bcb3d</sys_scope>
        <sys_update_name>catalog_script_client_c8df8c341b38f510d991c882604bcb3d</sys_update_name>
        <sys_updated_by>ServiceNowDeveloper2@ecolecatholique.ca</sys_updated_by>
        <sys_updated_on>2023-08-25 15:13:35</sys_updated_on>
        <table/>
        <type>onSubmit</type>
        <ui_type>10</ui_type>
        <variable_set/>
        <view/>
    </catalog_script_client>
</record_update>
